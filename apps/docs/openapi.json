{"openapi":"3.0.0","info":{"version":"0.1.10","title":"agentview API"},"components":{"schemas":{},"parameters":{}},"paths":{"/api/users":{"post":{"summary":"Create a user","tags":["Users"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"externalId":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]}}}}}},"responses":{"201":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]}}}}}}},"/api/public/me":{"get":{"summary":"Retrieve the current user","tags":["Public"],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/users/{id}":{"get":{"summary":"Retrieve a user","tags":["Users"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}},"patch":{"summary":"Update a user","tags":["Users"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"externalId":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]}}}}}},"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]}}}}}}},"/api/users/by-external-id/{external_id}":{"get":{"summary":"Retrieve a user by external id","tags":["Users"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"external_id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions":{"get":{"summary":"List sessions","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":false,"name":"agent","in":"query"},{"schema":{"anyOf":[{"type":"number"},{"type":"string"}]},"required":false,"name":"page","in":"query"},{"schema":{"anyOf":[{"type":"number"},{"type":"string"}]},"required":false,"name":"limit","in":"query"},{"schema":{"type":"string"},"required":false,"name":"userId","in":"query"},{"schema":{"type":"string","enum":["production","playground","shared-playground"]},"required":false,"name":"space","in":"query"},{"schema":{"anyOf":[{"type":"boolean"},{"type":"string","enum":["true"]},{"type":"string","enum":["false"]}]},"required":false,"name":"starred","in":"query"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"sessions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"agent":{"type":"string"},"handle":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"user":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]},"userId":{"type":"string"},"space":{"type":"string","enum":["production","playground","shared-playground"]},"state":{"nullable":true},"summary":{"type":"string","nullable":true},"versions":{"type":"array","items":{"type":"string"}}},"required":["id","agent","handle","createdAt","updatedAt","metadata","user","userId","space","summary","versions"]}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"},"totalCount":{"type":"number"},"hasNextPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"currentPageStart":{"type":"number"},"currentPageEnd":{"type":"number"}},"required":["page","limit","totalPages","totalCount","hasNextPage","hasPreviousPage","currentPageStart","currentPageEnd"]}},"required":["sessions","pagination"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}},"post":{"summary":"Create a session","tags":["Sessions"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"agent":{"type":"string"},"metadata":{"type":"object","additionalProperties":{"nullable":true}},"userId":{"type":"string"},"space":{"type":"string","enum":["production","playground","shared-playground"]},"summary":{"type":"string","nullable":true}},"required":["agent"]}}}},"responses":{"201":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"agent":{"type":"string"},"handle":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"user":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]},"userId":{"type":"string"},"space":{"type":"string","enum":["production","playground","shared-playground"]},"state":{"nullable":true},"summary":{"type":"string","nullable":true},"versions":{"type":"array","items":{"type":"string"}},"runs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"finishedAt":{"type":"string","nullable":true,"format":"date"},"status":{"type":"string"},"failReason":{"nullable":true},"version":{"type":"string"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"sessionItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"content":{"nullable":true},"runId":{"type":"string"},"sessionId":{"type":"string"}},"required":["id","createdAt","updatedAt","runId","sessionId"]}},"sessionId":{"type":"string"},"versionId":{"type":"string","nullable":true}},"required":["id","createdAt","updatedAt","finishedAt","status","version","metadata","sessionItems","sessionId","versionId"]}}},"required":["id","agent","handle","createdAt","updatedAt","metadata","user","userId","space","summary","versions","runs"]}}}},"422":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/public/sessions":{"get":{"summary":"List sessions","tags":["Public"],"parameters":[{"schema":{"type":"string"},"required":false,"name":"agent","in":"query"},{"schema":{"anyOf":[{"type":"number"},{"type":"string"}]},"required":false,"name":"page","in":"query"},{"schema":{"anyOf":[{"type":"number"},{"type":"string"}]},"required":false,"name":"limit","in":"query"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"sessions":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"agent":{"type":"string"},"handle":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"user":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]},"userId":{"type":"string"},"space":{"type":"string","enum":["production","playground","shared-playground"]},"state":{"nullable":true},"summary":{"type":"string","nullable":true},"versions":{"type":"array","items":{"type":"string"}}},"required":["id","agent","handle","createdAt","updatedAt","metadata","user","userId","space","summary","versions"]}},"pagination":{"type":"object","properties":{"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"},"totalCount":{"type":"number"},"hasNextPage":{"type":"boolean"},"hasPreviousPage":{"type":"boolean"},"currentPageStart":{"type":"number"},"currentPageEnd":{"type":"number"}},"required":["page","limit","totalPages","totalCount","hasNextPage","hasPreviousPage","currentPageStart","currentPageEnd"]}},"required":["sessions","pagination"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/stats":{"get":{"summary":"Get stats","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":false,"name":"agent","in":"query"},{"schema":{"anyOf":[{"type":"number"},{"type":"string"}]},"required":false,"name":"page","in":"query"},{"schema":{"anyOf":[{"type":"number"},{"type":"string"}]},"required":false,"name":"limit","in":"query"},{"schema":{"type":"string"},"required":false,"name":"userId","in":"query"},{"schema":{"type":"string","enum":["production","playground","shared-playground"]},"required":false,"name":"space","in":"query"},{"schema":{"anyOf":[{"type":"boolean"},{"type":"string","enum":["true"]},{"type":"string","enum":["false"]}]},"required":false,"name":"starred","in":"query"},{"schema":{"type":"string"},"required":false,"name":"granular","in":"query"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"unseenCount":{"type":"number"}},"required":["unseenCount"]}}}}}}},"/api/sessions/{session_id}":{"get":{"summary":"Retrieve a session","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"agent":{"type":"string"},"handle":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"user":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]},"userId":{"type":"string"},"space":{"type":"string","enum":["production","playground","shared-playground"]},"state":{"nullable":true},"summary":{"type":"string","nullable":true},"versions":{"type":"array","items":{"type":"string"}},"runs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"finishedAt":{"type":"string","nullable":true,"format":"date"},"status":{"type":"string"},"failReason":{"nullable":true},"version":{"type":"string"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"sessionItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"content":{"nullable":true},"runId":{"type":"string"},"sessionId":{"type":"string"}},"required":["id","createdAt","updatedAt","runId","sessionId"]}},"sessionId":{"type":"string"},"versionId":{"type":"string","nullable":true}},"required":["id","createdAt","updatedAt","finishedAt","status","version","metadata","sessionItems","sessionId","versionId"]}}},"required":["id","agent","handle","createdAt","updatedAt","metadata","user","userId","space","summary","versions","runs"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}},"patch":{"summary":"Update a session","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"metadata":{"type":"object","additionalProperties":{"nullable":true}},"summary":{"type":"string","nullable":true}}}}}},"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"agent":{"type":"string"},"handle":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"user":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]},"userId":{"type":"string"},"space":{"type":"string","enum":["production","playground","shared-playground"]},"state":{"nullable":true},"summary":{"type":"string","nullable":true},"versions":{"type":"array","items":{"type":"string"}},"runs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"finishedAt":{"type":"string","nullable":true,"format":"date"},"status":{"type":"string"},"failReason":{"nullable":true},"version":{"type":"string"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"sessionItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"content":{"nullable":true},"runId":{"type":"string"},"sessionId":{"type":"string"}},"required":["id","createdAt","updatedAt","runId","sessionId"]}},"sessionId":{"type":"string"},"versionId":{"type":"string","nullable":true}},"required":["id","createdAt","updatedAt","finishedAt","status","version","metadata","sessionItems","sessionId","versionId"]}}},"required":["id","agent","handle","createdAt","updatedAt","metadata","user","userId","space","summary","versions","runs"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"422":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{session_id}/comments":{"get":{"summary":"List comments","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"sessionItemId":{"type":"string"},"userId":{"type":"string"},"content":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","nullable":true,"format":"date"},"deletedAt":{"type":"string","nullable":true,"format":"date"},"deletedBy":{"type":"string","nullable":true},"score":{"type":"object","nullable":true,"properties":{"id":{"type":"string"},"sessionItemId":{"type":"string"},"name":{"type":"string"},"value":{"nullable":true},"commentId":{"type":"string","nullable":true},"createdBy":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"deletedAt":{"type":"string","nullable":true,"format":"date"},"deletedBy":{"type":"string","nullable":true}},"required":["id","sessionItemId","name","commentId","createdBy","createdAt","updatedAt","deletedAt","deletedBy"]}},"required":["id","sessionItemId","userId","content","createdAt","updatedAt","deletedAt","deletedBy","score"]}}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{session_id}/scores":{"get":{"summary":"List scores","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"sessionItemId":{"type":"string"},"name":{"type":"string"},"value":{"nullable":true},"commentId":{"type":"string","nullable":true},"createdBy":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"deletedAt":{"type":"string","nullable":true,"format":"date"},"deletedBy":{"type":"string","nullable":true}},"required":["id","sessionItemId","name","commentId","createdBy","createdAt","updatedAt","deletedAt","deletedBy"]}}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{session_id}/star":{"put":{"summary":"Star a session","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"starred":{"type":"boolean"}},"required":["starred"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}},"delete":{"summary":"Unstar a session","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"starred":{"type":"boolean"}},"required":["starred"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}},"get":{"summary":"Get star status","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"starred":{"type":"boolean"}},"required":["starred"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/public/sessions/{session_id}":{"get":{"summary":"Retrieve a session","tags":["Public"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"agent":{"type":"string"},"handle":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"user":{"type":"object","properties":{"id":{"type":"string"},"externalId":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"createdBy":{"type":"string","nullable":true},"space":{"type":"string","enum":["production","playground","shared-playground"]},"token":{"type":"string"}},"required":["id","externalId","createdAt","updatedAt","createdBy","space","token"]},"userId":{"type":"string"},"space":{"type":"string","enum":["production","playground","shared-playground"]},"state":{"nullable":true},"summary":{"type":"string","nullable":true},"versions":{"type":"array","items":{"type":"string"}},"runs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"finishedAt":{"type":"string","nullable":true,"format":"date"},"status":{"type":"string"},"failReason":{"nullable":true},"version":{"type":"string"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"sessionItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"content":{"nullable":true},"runId":{"type":"string"},"sessionId":{"type":"string"}},"required":["id","createdAt","updatedAt","runId","sessionId"]}},"sessionId":{"type":"string"},"versionId":{"type":"string","nullable":true}},"required":["id","createdAt","updatedAt","finishedAt","status","version","metadata","sessionItems","sessionId","versionId"]}}},"required":["id","agent","handle","createdAt","updatedAt","metadata","user","userId","space","summary","versions","runs"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{session_id}/stream":{"get":{"summary":"Stream updates","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"session_id","in":"path"},{"schema":{"type":"string"},"required":false,"name":"wait","in":"query"}],"responses":{"200":{"description":"Streams items from the run","content":{"text/event-stream":{"schema":{"type":"string"}}}},"204":{"description":"Undescribed"},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{sessionId}/seen":{"post":{"summary":"Mark session as seen","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"sessionId","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{}}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/runs":{"post":{"summary":"Create a run","tags":["Runs"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"sessionId":{"type":"string"},"items":{"type":"array","items":{"type":"object","additionalProperties":{"nullable":true}}},"version":{"type":"string"},"metadata":{"type":"object","additionalProperties":{"nullable":true}},"status":{"type":"string","enum":["in_progress","completed","cancelled","failed"]},"state":{"nullable":true},"failReason":{"nullable":true}},"required":["sessionId","items","version"]}}}},"responses":{"201":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"finishedAt":{"type":"string","nullable":true,"format":"date"},"status":{"type":"string"},"failReason":{"nullable":true},"version":{"type":"string"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"sessionItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"content":{"nullable":true},"runId":{"type":"string"},"sessionId":{"type":"string"}},"required":["id","createdAt","updatedAt","runId","sessionId"]}},"sessionId":{"type":"string"},"versionId":{"type":"string","nullable":true}},"required":["id","createdAt","updatedAt","finishedAt","status","version","metadata","sessionItems","sessionId","versionId"]}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/runs/{run_id}":{"patch":{"summary":"Update a run","tags":["Runs"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"run_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"items":{"type":"array","items":{"type":"object","additionalProperties":{"nullable":true}}},"metadata":{"type":"object","additionalProperties":{"nullable":true}},"status":{"type":"string","enum":["in_progress","completed","cancelled","failed"]},"state":{"nullable":true},"failReason":{"nullable":true}}}}}},"responses":{"201":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"finishedAt":{"type":"string","nullable":true,"format":"date"},"status":{"type":"string"},"failReason":{"nullable":true},"version":{"type":"string"},"metadata":{"type":"object","nullable":true,"additionalProperties":{"nullable":true}},"sessionItems":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"type":"string","format":"date"},"updatedAt":{"type":"string","format":"date"},"content":{"nullable":true},"runId":{"type":"string"},"sessionId":{"type":"string"}},"required":["id","createdAt","updatedAt","runId","sessionId"]}},"sessionId":{"type":"string"},"versionId":{"type":"string","nullable":true}},"required":["id","createdAt","updatedAt","finishedAt","status","version","metadata","sessionItems","sessionId","versionId"]}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/runs/{run_id}/keep-alive":{"post":{"summary":"Keep alive","tags":["Runs"],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"expiresAt":{"type":"string","nullable":true}},"required":["expiresAt"]}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{sessionId}/items/{itemId}/seen":{"post":{"summary":"Mark item as seen","tags":["Sessions"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"sessionId","in":"path"},{"schema":{"type":"string"},"required":true,"name":"itemId","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{}}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{sessionId}/items/{itemId}/comments":{"post":{"summary":"Create a comment","tags":["Comments"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"sessionId","in":"path"},{"schema":{"type":"string"},"required":true,"name":"itemId","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string"}},"required":["content"]}}}},"responses":{"201":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{}}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{sessionId}/items/{itemId}/comments/{commentId}":{"delete":{"summary":"Delete a comment","tags":["Comments"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"sessionId","in":"path"},{"schema":{"type":"string"},"required":true,"name":"itemId","in":"path"},{"schema":{"type":"string"},"required":true,"name":"commentId","in":"path"}],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{}}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}},"put":{"summary":"Update a comment","tags":["Comments"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"sessionId","in":"path"},{"schema":{"type":"string"},"required":true,"name":"itemId","in":"path"},{"schema":{"type":"string"},"required":true,"name":"commentId","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string"}},"required":["content"]}}}},"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{}}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"422":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/sessions/{sessionId}/items/{itemId}/scores":{"patch":{"summary":"Update scores","tags":["Scores"],"parameters":[{"schema":{"type":"string"},"required":true,"name":"sessionId","in":"path"},{"schema":{"type":"string"},"required":true,"name":"itemId","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"value":{"nullable":true}},"required":["name"]}}}}},"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{}}}}},"400":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"401":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/environment":{"get":{"summary":"Retrieve the environment","tags":["Environment"],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","nullable":true,"properties":{"id":{"type":"string"},"userId":{"type":"string","nullable":true},"config":{"nullable":true},"createdAt":{"type":"string","format":"date"}},"required":["id","userId","createdAt"]}}}}}},"patch":{"summary":"Update the environment","tags":["Environment"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"config":{"nullable":true}}}}}},"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"config":{"nullable":true}}}}}},"422":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string"}},"required":["message"]}}}}}}},"/api/health":{"get":{"summary":"Health check","tags":["System"],"responses":{"200":{"description":"Undescribed","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]}},"required":["status"]}}}}}}}}}